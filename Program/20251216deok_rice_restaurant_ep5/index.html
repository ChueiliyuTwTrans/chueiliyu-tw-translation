<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
<title>ë•ë°¥ì§‘ EP.5 ìµœë¦½ìš° CHUEI LI YU<br/>(å¾·é£¯åº— EP.5 å´”ç«‹äº)</title>

<style>
body {
    margin: 0;
    background: #111;
    color: #fff;
    font-family: Arial, "Noto Sans TC", sans-serif;
    text-align: center;
}

html, body {
    background: #000 !important; /* å¼·åˆ¶å…¨é»‘ */
    height: 100%;
    width: 100%;
    margin: 0;
}

/* ===== é£Ÿè­œå€ ===== */
#recipe-section {
    max-width: 960px;
    margin: 30px auto 60px;
    padding: 0 16px;
    text-align: left;
}

.recipe-block {
    background: #1b1b1b;
    border-radius: 12px;
    padding: 20px;
    margin-bottom: 20px;
}

.recipe-block h3 {
    margin-top: 0;
    font-size: 20px;
    color: #ffd369;
}

.recipe-block ol {
    padding-left: 20px;
    line-height: 1.8;
    font-size: 15px;
}

.recipe-block li {
    margin-bottom: 6px;
}

</style>
<link rel="stylesheet" href="/chueiliyu-tw-translation/css/reaction.css">
</head>

<body>
<div id="controls">
    <div class="control-row">
        <button onclick="toggleBarrageDisplay()" id="barrage-toggle-btn">å³æ™‚è¡¨æƒ…ï¼šé–‹</button>

        <div class="control-group barrage-control">
            <span>å¤§å°</span>
            <input type="range" id="barrage-size-slider" min="16" max="60" value="24" oninput="updateBarrageSize(this.value)">
        </div>

        <div class="control-group barrage-control">
            <span>ç¯„åœ</span>
            <input type="range" id="barrage-height-slider" min="10" max="100" value="40" oninput="updateBarrageHeight(this.value)">
            <span id="height-val">40%</span>
        </div>

        <div class="control-group barrage-control">
            <span>é€Ÿåº¦</span>
            <input type="range" id="barrage-speed-slider" min="3" max="10" step="1" value="5" oninput="updateBarrageSpeed(this.value)">
        </div>

        <div class="control-group">
            <button class="sub-btn" onclick="changeSubtitleSize(-0.1)">Aâˆ’</button>
            <span>å­—å¹•</span>
            <button class="sub-btn" onclick="changeSubtitleSize(0.1)">Aï¼‹</button>
        </div>

        <button id="fs-btn">é€²å…¥å…¨è¢å¹•</button>
    </div>
</div>

<h2>ë•ë°¥ì§‘ EP.5 ìµœë¦½ìš° CHUEI LI YU<br/>(å¾·é£¯åº— EP.5 å´”ç«‹äº)</h2>

<div id="video-wrapper">
    <div id="player"></div>
    <div id="subtitle">å­—å¹•è¼‰å…¥ä¸­...</div>
    <div id="barrage-container"></div>

    <button id="emoji-trigger-btn" onclick="toggleEmojiDrawer(event)">ğŸ˜Š</button>

    <div id="emoji-drawer"></div>
    
    <button id="exit-fs-btn" title="é€€å‡ºå…¨è¢å¹•" style="display: none; opacity: 0;">
        <svg viewBox="0 0 24 24">
            <line x1="18" y1="6" x2="6" y2="18"></line>
            <line x1="6" y1="6" x2="18" y2="18"></line>
        </svg>
    </button>
</div>

<section id="recipe-section">

    <div class="recipe-block">
        <h3>~å´”ç«‹äº éº»å©†è±†è… å¾·é£¯åº— é£Ÿè­œ~</h3>
        <ol>
            <li>å°‡è±†è…åˆ‡æˆé©ç•¶å¤§å°çš„ç«‹æ–¹é«”ï¼Œæ´‹è”¥èˆ‡å¤§è”¥åˆ‡ç¢å‚™ç”¨ã€‚</li>
            <li>åœ¨å¹³åº•é‹ä¸­å€’å…¥é£Ÿç”¨æ²¹ï¼Œç¨å¾®åŠ ç†±å¾Œæ”¾å…¥å¤§è”¥èˆ‡è’œæœ«æ‹Œç‚’ã€‚</li>
            <li>åŠ å…¥è±¬è‚‰ã€æ´‹è”¥ã€è–‘æœ«ã€æ–™ç†é…’åŠå°‘è¨±é»‘èƒ¡æ¤’ç²‰ï¼Œä¸€èµ·ç¿»ç‚’ã€‚</li>
            <li>å°‡ç‚’å¥½çš„ææ–™åŠ å…¥è¾£æ¤’ç²‰ 1 å¤§åŒ™ã€è ”æ²¹ 1.5 å¤§åŒ™ã€é†¬æ²¹ 2 å¤§åŒ™ã€è±†ç“£é†¬ 1/2 å¤§åŒ™ã€ç ‚ç³– 3/4 å¤§åŒ™ï¼Œç¿»ç‚’è‡³å‡å‹»è£¹ä¸Šé†¬æ–™ã€‚</li>
            <li>åŠ å…¥æ¸…æ°´ï¼Œæ°´é–‹å§‹æ²¸é¨°å¾Œè½‰ä¸­ç«ç¹¼çºŒç…®ã€‚</li>
            <li>æ¹¯æ±å……åˆ†å…¥å‘³å¾Œï¼Œæ”¾å…¥è±†è…ï¼Œå†ç…®ç´„ 2 åˆ†é˜ï¼Œè®“è±†è…å¸æ”¶å‘³é“ã€‚</li>
            <li>å€’å…¥å¤ªç™½ç²‰æ°´ï¼Œä¸€é‚Šæ”ªæ‹Œèª¿æ•´æ¿ƒç¨ åº¦ï¼Œç²‰æ°´ç†Ÿé€å¾Œé—œç«ã€‚</li>
            <li>é—œç«å¾ŒåŠ å…¥ 1/2 å¤§åŒ™é¦™æ²¹ï¼Œå……åˆ†æ‹Œå‹»å³å¯ã€‚ </li>
        </ol>
    </div>

    <div class="recipe-block">
        <h3>~å´”ç«‹äº ç‰å­ç‡’ å¾·é£¯åº— é£Ÿè­œ~</h3>
        <ol>
            <li>å°‡æ‰€æœ‰è”¬èœéƒ½åˆ‡å¾—éå¸¸ç´°ç¢ã€‚</li>
            <li>æ‰“æ•£é›è›‹ï¼ŒåŠ å…¥è”¬èœã€é¹½å’Œç ‚ç³–æ‹Œå‹»ã€‚</li>
            <li>è›‹æ¶²ç…è‡³åŠç†Ÿæ™‚ï¼Œå¾ä¸€å´é–‹å§‹æŠ˜èµ·æ²èµ·ï¼Œæ¥è‘—å°‘é‡å€’å…¥è›‹æ¶²ï¼Œè®“è›‹çš®ç„¡ç¸«éŠœæ¥ï¼Œé‡è¤‡æ­¤æ­¥é©Ÿã€‚</li>
            <li>ç¬¬ä¸€å±¤æ²å¥½å¾Œæ¨åˆ°ä¸€æ—ï¼Œä¾ç›¸åŒæ–¹å¼åè¦†æ“ä½œï¼Œç›´åˆ°è›‹æ¶²ç”¨å®Œï¼Œæœ€å¾Œå†ç¨å¾®ç…ä¸€ä¸‹ï¼Œè®“å…§éƒ¨ä¹Ÿç†Ÿé€ã€‚</li>
        </ol>
    </div>

</section>

<div class="reaction-section">
    <p id="reaction-title">è¦ºå¾—é€™éƒ¨ç¿»è­¯å½±ç‰‡å¦‚ä½•ï¼Ÿé»å€‹è¡¨æƒ…å§ï¼</p>
    <div class="reaction-wall"></div>
    <br>
</div>

<script>
/* å½±ç‰‡IDå’ŒSRTæ–‡ä»¶ */
const MY_VIDEO_ID = "sN-cLYIy7po"; 
const MY_SRT_FILE = "1216deok_rice_restaurant.srt";

/* ===== å­—å¹•å¤§å°è¨­å®š ===== */
function changeSubtitleSize(delta) {
        if (typeof coreChangeSubtitleSize === "function") coreChangeSubtitleSize(delta);
}
</script>
    
<script type="module">
  // 1. è¼‰å…¥ Firebase æ ¸å¿ƒåŠŸèƒ½
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
  import { getDatabase, ref, onValue, runTransaction } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";
    
  // 2. Firebase è¨­å®š
  const firebaseConfig = {
    apiKey: "AIzaSyC9Hi740uOlJf1dSyDpyeispds_TtCjNjg",
    authDomain: "chueiliyu-tw-translation.firebaseapp.com",
    databaseURL: "https://chueiliyu-tw-translation-default-rtdb.asia-southeast1.firebasedatabase.app",
    projectId: "chueiliyu-tw-translation",
    storageBucket: "chueiliyu-tw-translation.appspot.com",
    messagingSenderId: "625769420546",
    appId: "1:625769420546:web:6d25889d1c66a091fe941b"
  };

  // 3. å•Ÿå‹•é€£ç·šä¸¦ã€Œå€Ÿã€çµ¦å¤–éƒ¨ JS ä½¿ç”¨
  const app = initializeApp(firebaseConfig);
  window.db = getDatabase(app);
  window.fb_ref = ref;            // ä¿®æ­£é»ï¼šæ›è¼‰åˆ° window
  window.fb_onValue = onValue;    // ä¿®æ­£é»ï¼šæ›è¼‰åˆ° window
  window.fb_runTransaction = runTransaction; // ä¿®æ­£é»ï¼šæ›è¼‰åˆ° window
</script>

<script src="/chueiliyu-tw-translation/js/core-player.js"></script>
<script src="/chueiliyu-tw-translation/js/reaction-core.js"></script>
<script src="https://www.youtube.com/iframe_api"></script>
</body>
</html>

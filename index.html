<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<title>å´”ç«‹äºå°ç£ç¿»è­¯ç«™</title>
<link rel="canonical" href="https://chueiliyutwtrans.github.io/chueiliyu-tw-translation/" />
<link rel="icon" href="https://chueiliyutwtrans.github.io/favicon.png" type="image/png">
<link rel="apple-touch-icon" href="images/favicon.png">
<link rel="sitemap" type="application/xml" title="Sitemap" href="https://chueiliyutwtrans.github.io/sitemap.xml" />
<meta name="google-site-verification" content="7PIMmC4U7ysESFC3XZsVfbBhYHZghon76UDH7Orv1gI" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">

<meta name="description" content="å´”ç«‹äº (CHUEI LI YU) å°ç£éå®˜æ–¹ç¿»è­¯ç«™ã€‚æ•´ç†ç›´æ’­ã€ç¯€ç›®ã€é›»å°ç­‰ä¸­æ–‡ç¿»è­¯å½±ç‰‡ï¼Œåƒ…ä½œå­¸ç¿’èˆ‡æ¨å»£ä½¿ç”¨ã€‚">
<meta name="keywords" content="å´”ç«‹äº, CHUEI LI YU, ç¿»è­¯, ä¸­å­—, ç›´æ’­, éŸ“æ˜Ÿ">
<meta name="author" content="è¥¿å¡">

<meta property="og:title" content="å´”ç«‹äºå°ç£ç¿»è­¯ç«™">
<meta property="og:description" content="æ•´ç†å´”ç«‹äºçš„ç›´æ’­ã€ç¯€ç›®ã€é›»å°ä¸­æ–‡ç¿»è­¯ã€‚">
<meta property="og:image" content="images/content33.webp"> 
<meta property="og:url" content="https://chueiliyutwtrans.github.io/chueiliyu-tw-translation/">
<meta property="og:type" content="website">

<style>
:root {
    --header-box-width: 320px;
    --primary-color: #60a5fa; 
    --premium-yellow: #f59e0b; 
    --gold-highlight: #fbbf24; 
    
    --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
}

body {
    margin: 0;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Noto Sans TC", "Microsoft JhengHei", sans-serif;
    background: #ffffff;
    color: #333;
    transition: background-color 0.3s, color 0.3s;
}

/* ===== Header ===== */
header {
    position: relative;
    height: 220px;
    background-image: url("images/content33.webp");
    background-size: cover;
    background-position: 30% 35%;
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    box-shadow: 0 4px 20px rgba(0,0,0,0.15);
    z-index: 10;
    transition: background 0.3s ease;
}

.header-text {
    position: relative;
    z-index: 1;
    padding: 16px 24px;
    background: rgba(0, 0, 0, 0.45);
    border-radius: 16px;
    backdrop-filter: blur(8px);
    border: 1px solid rgba(255,255,255,0.2);
    max-width: 600px; 
}

header h1 {
    margin: 0;
    font-size: 32px;
    font-weight: 400; 
    letter-spacing: 2px;
    line-height: 1.3;
    color: #ffffff;
    text-shadow: 0 2px 10px rgba(0,0,0,0.5);
}

header p {
    margin-top: 8px;
    font-size: 14px;
    font-weight: 400;
    letter-spacing: 1px;
    line-height: 1.6;
    color: #f3f4f6;
    opacity: 0.9;
}

/* ===== Search ===== */
.search-box {
    position: absolute;
    top: 14px;
    left: 16px;
    z-index: 3;
}

.search-input-wrap {
    position: relative;
    width: var(--header-box-width);
    max-width: 100%;
}

.search-input-wrap input {
    width: 100%;
    padding: 8px 36px 8px 16px;
    font-size: 14px;
    border-radius: 999px;
    border: 1px solid rgba(255,255,255,0.3);
    box-sizing: border-box;
    background: rgba(255, 255, 255, 0.2);
    backdrop-filter: blur(10px);
    color: #fff;
    transition: all 0.2s;
}

.search-input-wrap input:focus {
    background: rgba(255, 255, 255, 0.95);
    color: #333;
    outline: none;
    box-shadow: 0 0 0 3px rgba(96, 165, 250, 0.3);
}

.search-input-wrap input::placeholder { color: rgba(255,255,255,0.8); }
.search-input-wrap input:focus::placeholder { color: #999; }

.search-results {
    margin-top: 8px;
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
}

.search-results button {
    font-size: 12px;
    padding: 6px 12px;
    border-radius: 999px;
    border: none;
    cursor: pointer;
    background: #ffffff;
    color: #333;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    font-weight: 500;
}

.search-results button:hover {
    background: #eff6ff;
    color: var(--primary-color);
}

#clearSearch {
    position: absolute;
    right: 10px;
    top: 50%;
    transform: translateY(-50%);
    background: transparent;
    border: none;
    font-size: 16px;
    cursor: pointer;
    line-height: 1;
    display: none;
    color: rgba(255,255,255,0.8);
}
.search-input-wrap input:focus ~ #clearSearch { color: #666; }
#clearSearch.visible { display: block; }


/* ===== Header Theme Buttons ===== */
.header-theme {
    position: absolute;
    top: 14px;
    right: 16px;
    display: flex;
    gap: 8px;
    z-index: 2;
}

.header-theme button {
    font-size: 13px;
    padding: 6px 12px;
    border-radius: 20px;
    border: 1px solid rgba(255,255,255,0.2);
    cursor: pointer;
    background: rgba(0,0,0,0.4);
    color: #fff;
    backdrop-filter: blur(4px);
    transition: all 0.2s ease;
}

.header-theme button:hover {
    background: rgba(255,255,255,0.9);
    color: #333;
}

/* ===== éœæ…‹å…¬å‘Šæ¿ (Static News Board) ===== */
.news-board {
    width: 100%;
    height: auto;
    min-height: 40px;
    background: #fdfdfd;
    border-bottom: 1px solid rgba(0,0,0,0.05);
    display: flex;
    justify-content: center;
    align-items: center;
    flex-wrap: wrap; 
    padding: 8px 16px;
    box-sizing: border-box;
    font-size: 13px;
    color: #444;
    gap: 16px;
    transition: all 0.3s ease; /* è®“åˆ‡æ›æ¨¡å¼æ™‚é¡è‰²å¹³æ»‘éæ¸¡ */
}

/* æ¯ä¸€å‰‡å…¬å‘Šçš„æ¨£å¼ */
.news-item {
    display: flex;
    align-items: center;
    white-space: nowrap;
    padding: 6px 14px 6px 8px;
    background: #ffffff; /* çµ¦æ¯ä¸€å‰‡å…¬å‘Šç¨ç«‹çš„ç™½è‰²èƒŒæ™¯ */
    border: 1px solid rgba(0, 0, 0, 0.03); /* æ¥µæ·¡çš„é‚Šæ¡† */
    border-radius: 8px; /* åœ“è§’å¢åŠ è¦ªå’Œæ„Ÿ */
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.02); /* æ¥µè¼•å¾®çš„é™°å½±ï¼Œç‡Ÿé€ æ¼‚æµ®æ„Ÿ */
    transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.news-tag {
    display: inline-block;
    padding: 2px 8px;
    border-radius: 99px;
    font-size: 11px;
    font-weight: 700;
    margin-right: 6px;
    /* é è¨­é¡è‰²ï¼Œå¯ç”¨ style è¦†è“‹ */
    background: #e5e7eb; 
    color: #333;
}

/* ä¸åŒé¡å‹çš„æ¨™ç±¤é¡è‰² */
.tag-new { background: var(--primary-color); color: #fff; }
.tag-live { background: #ef4444; color: #fff; }
.tag-note { background: #f59e0b; color: #fff; }


/* ===== Layout ===== */
.container {
    display: flex;
    min-height: calc(100vh - 260px); 
}

.sidebar {
    width: 260px;
    padding: 24px;
    background-size: cover;
    background-position: center;
    box-sizing: border-box;
    position: relative;
    z-index: 2;
    border-right: none; 
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.sidebar button {
    width: 100%;
    padding: 14px 16px;
    margin-bottom: 0;
    border: none;
    background: transparent;
    cursor: pointer;
    font-size: 15px;
    font-weight: 500;
    border-radius: 12px;
    transition: all 0.2s ease;
    text-align: left;
    color: inherit;
    display: flex;
    align-items: center;
}

.sidebar button:hover { background: rgba(0,0,0,0.05); }
.sidebar button.active { font-weight: 700; }

.content {
    flex: 1;
    padding: 32px;
    background-size: cover;
    background-position: center;
}

.section { display: none; }
.section.active { display: block; animation: fadeIn 0.3s ease; }

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(5px); }
    to { opacity: 1; transform: translateY(0); }
}

.card-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
    gap: 24px;
}

/* ===== Filter Bar ===== */
.filter-bar {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    margin-bottom: 24px;
    padding-bottom: 12px;
    border-bottom: 1px solid rgba(0,0,0,0.06);
    min-height: 38px;
}
.filter-bar:empty { display: none; }

.filter-btn {
    padding: 8px 16px;
    border-radius: 99px;
    border: 1px solid transparent;
    background: rgba(0,0,0,0.05);
    font-size: 14px;
    cursor: pointer;
    transition: all 0.2s;
    color: #666;
    font-weight: 500;
}

.filter-btn:hover { background: rgba(0,0,0,0.1); }

.filter-btn.active {
    background: var(--primary-color);
    color: white;
    box-shadow: 0 4px 10px rgba(96, 165, 250, 0.3);
}

/* ===== Card ===== */
.card {
    background: #ffffff;
    border-radius: 16px;
    overflow: hidden;
    text-decoration: none;
    color: inherit;
    transition: all 0.3s ease;
    position: relative;
    display: block;
    border: none;
}

.card-img-wrap {
    width: 100%;
    height: 160px;
    overflow: hidden;
    position: relative;
    background: #e5e7eb;
}

.card img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.5s ease;
}

.card:hover img { transform: scale(1.05); }

.card-body { padding: 16px; }

.card-title { 
    font-size: 16px; 
    font-weight: 700; 
    line-height: 1.4;
    margin-bottom: 6px;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

.card-desc { font-size: 13px; opacity: 0.7; margin-bottom: 12px; }

.card-credit { 
    font-size: 12px; 
    color: #9ca3af; 
    padding-top: 12px;
    border-top: 1px solid rgba(0,0,0,0.05);
}

.new-badge {
    position: absolute; top: 12px; right: 12px;
    background: #ef4444; color: #ffffff;
    font-size: 11px; font-weight: 800; padding: 4px 10px;
    border-radius: 99px; z-index: 3;
    box-shadow: 0 2px 4px rgba(239, 68, 68, 0.3);
}

.search-highlight {
    transition: box-shadow 0.3s ease;
}

footer { 
    text-align: center; 
    font-size: 13px; 
    color: #999; 
    padding: 20px 20px 30px 20px;
    background: transparent;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px; /* åœ–ç¤ºèˆ‡æ–‡å­—ä¹‹é–“çš„é–“éš” */
}

.footer-sns {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px; /* IG èˆ‡ Threads ä¹‹é–“çš„è·é›¢ */
    margin-bottom: 0px;
    font-weight: 500;
    letter-spacing: 0.5px;
}

.sns-btn.text-link {
    color: #666; /* æé«˜é è¨­é¡è‰²å°æ¯”åº¦ï¼Œæ›´æ˜“è®€ */
    text-decoration: none;
    font-size: 13px;
    font-weight: 600; /* åŠ ç²—å­—é«”ï¼Œæ›´æœ‰æŒ‰éˆ•æ„Ÿ */
    padding: 6px 16px; /* å¢åŠ å…§è·ï¼Œè®“é»æ“Šå€åŸŸè®Šå¤§ä¸”åƒæŒ‰éˆ• */
    border: 1px solid #e5e7eb; /* åŠ å…¥æ¥µç´°é‚Šæ¡† */
    border-radius: 20px; /* è† å›Šå‹æŒ‰éˆ•ï¼Œéå¸¸æœ‰é«˜ç´šæ„Ÿ */
    transition: all 0.2s ease;
    background: rgba(255, 255, 255, 0.5); /* è¼•å¾®åº•è‰²ï¼Œå¢åŠ å­˜åœ¨æ„Ÿ */
    margin: 0;
}

/* æ»‘é¼ ç§»å…¥æ•ˆæœ */
.sns-btn.text-link:hover {
    color: #fff;
    background: var(--primary-color, #444); /* ç§»å…¥æ™‚è®Šæˆç«‹äºçš„ä»£è¡¨è‰²æˆ–æ·±ç°è‰² */
    border-color: var(--primary-color, #444);
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0,0,0,0.05); /* å¢åŠ è¼•å¾®é™°å½± */
}

.sns-divider {
    display: none;
}

.footer-info {
    letter-spacing: 0.5px; /* è®“å­—è·å¯¬ä¸€é»é»ï¼Œè¦–è¦ºæ›´ç²¾ç·» */
    opacity: 0.8;
    margin-top: 0;
}

/* ç¢ºä¿ SNS æŒ‰éˆ•å‚ç›´ç½®ä¸­èˆ‡é–“è· */
.footer-sns {
    display: flex;
    align-items: center; /* ç¢ºä¿å…©å€‹ä¸åŒé«˜åº¦çš„ SVG å°é½Šä¸­ç·š */
    gap: 15px;
    margin-bottom: 10px;
}

/* ===== NEW: å›åˆ°é ‚ç«¯æŒ‰éˆ• (Back to Top) ===== */
#backToTop {
    position: fixed;
    bottom: calc(24px + env(safe-area-inset-bottom));
    right: 24px;
    width: 48px;
    height: 48px;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.9);
    color: #333;
    border: 1px solid rgba(0,0,0,0.1);
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    font-size: 20px;
    cursor: pointer;
    z-index: 99999;
    opacity: 0;
    visibility: hidden;
    transform: translateY(10px);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    display: flex;
    align-items: center;
    justify-content: center;
    -webkit-user-select: none; /* é¿å… iPhone é•·æŒ‰é¸å–åˆ°æŒ‰éˆ•æ–‡å­— */
    -webkit-tap-highlight-color: transparent;
}

#backToTop:hover {
    background: #fff;
    transform: translateY(-2px);
    box-shadow: 0 6px 16px rgba(0,0,0,0.2);
}

#backToTop.show {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
}

body.theme-dark #backToTop {
    background: rgba(30, 41, 59, 0.9);
    color: #fff;
    border: 1px solid rgba(255,255,255,0.15);
}
body.theme-dark #backToTop:hover {
    background: #334155;
}


/* =========================================
   ğŸ¨ THEME SYSTEMS
   ========================================= */

/* 1. ğŸŒ¸ èŠ±ä¿æ¨¡å¼ (Fancy) */
body.theme-fancy .sidebar {
    background-image: url("images/content5.webp");
    border-right: 1px solid rgba(255,255,255,0.4);
}
body.theme-fancy .content {
    background-image: url("images/content6.webp");
}
body.theme-fancy .sidebar button {
    background: rgba(255,255,255,0.6);
    color: #333;
    box-shadow: 0 2px 4px rgba(0,0,0,0.05);
}
body.theme-fancy .sidebar button:hover {
    background: #fff;
    transform: translateX(4px);
}
body.theme-fancy .sidebar button.active {
    background: rgba(255, 255, 255, 0.85); 
    backdrop-filter: blur(4px);
    color: var(--premium-yellow); 
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}
body.theme-fancy .filter-btn {
    background: rgba(255, 255, 255, 0.55);
    color: #333;
}
body.theme-fancy .filter-btn.active {
    background: var(--premium-yellow); 
    color: #fff;
    box-shadow: 0 4px 10px rgba(245, 158, 11, 0.3);
}
body.theme-fancy .card { box-shadow: var(--shadow-md); }
body.theme-fancy .card:hover {
    transform: translateY(-5px);
    box-shadow: var(--shadow-lg);
}
body.theme-fancy .search-highlight {
    box-shadow: 0 0 0 4px var(--gold-highlight);
}
/* èŠ±ä¿æ¨¡å¼å…¬å‘Šæ¬„ */
body.theme-fancy .news-board {
    /* å°‡é€æ˜åº¦å¾ 0.9 èª¿é™è‡³ 0.75ï¼Œè®“é¡è‰²çœ‹èµ·ä¾†æ›´æ·¡ã€æ›´é€šé€ */
    background: linear-gradient(135deg, rgba(84, 99, 108, 0.75), rgba(45, 55, 60, 0.75));
    
    /* æ¯›ç»ç’ƒ */
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    
    /* è³ªæ„Ÿé‚Šæ¡† */
    border-bottom: 1px solid rgba(255, 255, 255, 0.2); 
    box-shadow: 0 4px 15px rgba(0,0,0,0.08); /* é™°å½±ä¹Ÿç¨å¾®èª¿æ·¡ */
    
    /* æ–‡å­—åç™½ */
    color: #ffffff; 
    text-shadow: 0 1px 2px rgba(0,0,0,0.2);
}

/* â­ èŠ±ä¿æ¨¡å¼ä¸‹çš„æ¨™ç±¤èª¿æ•´ç‚ºä½èª¿åŠé€æ˜ï¼Œè®“æ·±ç°åº•æ›´å”èª¿ */
body.theme-fancy .news-tag {
    background: rgba(255, 255, 255, 0.2);
    color: #f3f4f6;
    border: 1px solid rgba(255,255,255,0.25);
}
    
/* æ¨™ç±¤é¡è‰² */
body.theme-fancy .tag-new { 
    background: var(--primary-color) !important; 
    color: #fff !important; 
    border: none !important;
}
body.theme-fancy .tag-live { 
    background: #ef4444 !important; 
    color: #fff !important; 
    border: none !important;
}
body.theme-fancy .tag-note { 
    background: #f59e0b !important; 
    color: #fff !important; 
    border: none !important;
}

/* â­ èŠ±ä¿æ¨¡å¼ä¸‹çš„å…¬å‘Šå°å¡ç‰‡ */
body.theme-fancy .news-item {
    /* ä½¿ç”¨æ¥µä½é€æ˜åº¦çš„ç™½è‰²ï¼Œç‡Ÿé€ ç»ç’ƒè³ªæ„Ÿ */
    background: rgba(255, 255, 255, 0.1); 
    border: 1px solid rgba(255, 255, 255, 0.15);
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    color: #ffffff;
}

body.theme-fancy .news-item:hover {
    background: rgba(255, 255, 255, 0.2);
}
    
/* 2. ğŸ¤ é«˜ç´šç™½è‰²æ¨¡å¼ (Light) */
body.theme-light { background: #ffffff; color: #1f2937; }

body.theme-light header { background-image: none; background-color: #f1f5f9; }
body.theme-light .header-text {
    background: rgba(255, 255, 255, 0.6);
    border: 1px solid rgba(255,255,255,0.8);
}
body.theme-light header h1 { color: #1f2937; text-shadow: none; }
body.theme-light header p { color: #4b5563; }

body.theme-light .search-input-wrap input {
    background: #ffffff; color: #1f2937; border: 1px solid #cbd5e1;
}
body.theme-light .search-input-wrap input::placeholder { color: #94a3b8; }

body.theme-light .content { background-color: #f1f5f9; background-image: none; }
body.theme-light .sidebar {
    background-color: #ffffff; background-image: none; border-right: 1px solid #e2e8f0;
}
body.theme-light .sidebar button { background: transparent; color: #64748b; box-shadow: none; }
body.theme-light .sidebar button:hover { background: #f1f5f9; color: #334155; }
body.theme-light .sidebar button.active { background: #eff6ff; color: #2563eb; }

body.theme-light .card {
    background: #f8fafc; box-shadow: var(--shadow-sm); border: 1px solid transparent;
}
body.theme-light .card:hover {
    transform: translateY(-4px); background: #ffffff; box-shadow: var(--shadow-lg); border-color: #bfdbfe;
}
body.theme-light .card-credit { border-top-color: #e2e8f0; }
body.theme-light .search-highlight { box-shadow: 0 0 0 4px var(--primary-color); }
/* ç™½è‰²æ¨¡å¼å…¬å‘Šæ¬„ */
body.theme-light .news-board { background: #ffffff; border-bottom: 1px solid #e2e8f0; }


/* 3. ğŸŒ™ é«˜ç´šæ·±è‰²æ¨¡å¼ (Dark) */
body.theme-dark { background: #0f172a; color: #f1f5f9; }

body.theme-dark header { background-image: none; background-color: #1e293b; }
body.theme-dark .header-text { background: rgba(2, 6, 23, 0.6); border: 1px solid rgba(255,255,255,0.1); }

body.theme-dark .sidebar { background-color: #0f172a; background-image: none; border-right: 1px solid #334155; }
body.theme-dark .content { background-color: #0f172a; background-image: none; }

body.theme-dark .sidebar button { color: #94a3b8; background: transparent; box-shadow: none; }
body.theme-dark .sidebar button:hover { background: rgba(255,255,255,0.05); color: #e2e8f0; }
body.theme-dark .sidebar button.active { background: #1e293b; color: #60a5fa; box-shadow: 0 4px 6px rgba(0,0,0,0.2); }

body.theme-dark .card { background: #1e293b; border: 1px solid #334155; box-shadow: 0 4px 6px rgba(0,0,0,0.3); }
body.theme-dark .card:hover { transform: translateY(-4px); background: #273549; border-color: #475569; }
body.theme-dark .card-desc { color: #94a3b8; }
body.theme-dark .card-credit { color: #64748b; border-top-color: #334155; }

body.theme-dark .filter-btn { background: #1e293b; color: #cbd5e1; border: 1px solid #334155; }
body.theme-dark .filter-btn:hover { background: #334155; }
body.theme-dark .filter-btn.active { background: #3b82f6; border-color: #3b82f6; color: #fff; }
body.theme-dark .search-highlight { box-shadow: 0 0 0 4px var(--primary-color); }
/* æ·±è‰²æ¨¡å¼å…¬å‘Šæ¬„ */
body.theme-dark .news-board { background: #1e293b; color: #cbd5e1; border-bottom: 1px solid #334155; }
/* â­ æ·±è‰²æ¨¡å¼ä¸‹çš„å…¬å‘Šå°å¡ç‰‡ */
body.theme-dark .news-item {
    /* æ¯”åº•è‰² #1e293b ç¨å¾®æ·ºä¸€é»çš„è—ç°è‰² */
    background: #334155; 
    border: 1px solid #475569;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
    color: #cbd5e1;
}

body.theme-dark .news-item:hover { background: #3e4c5f; }

/* æ·±è‰²æ¨¡å¼ä¸‹çš„é è¨­æ¨™ç±¤é¡è‰²å¾®èª¿ï¼Œé¿å…å¤ªæš— */
body.theme-dark .news-tag { background: #475569; color: #f1f5f9; }

body.theme-dark .tag-new { 
    background: var(--primary-color) !important; 
    color: #fff !important; 
    border: none !important;
}
body.theme-dark .tag-live { 
    background: #ef4444 !important; 
    color: #fff !important; 
    border: none !important;
}
body.theme-dark .tag-note { 
    background: #f59e0b !important; 
    color: #fff !important; 
    border: none !important;
}

/* åº•éƒ¨SNS */
body.theme-dark .sns-btn.text-link { background: rgba(255, 255, 255, 0.05); border-color: #334155; color: #cbd5e1; }
body.theme-dark .sns-btn.text-link:hover { background: #475569; color: #fff; }
body.theme-dark .sns-btn.text-link::after { background-color: #f1f5f9; }
body.theme-dark .sns-divider { color: #334155; }

/* RWD æ‰‹æ©Ÿç‰ˆå„ªåŒ– */
@media (max-width: 768px) {
    header {
        height: auto;
        padding: 16px 16px 18px; 
        flex-direction: row; 
        flex-wrap: wrap; 
        align-items: center; 
        justify-content: space-between; 
        gap: 10px; 
        background-position: center -50px;
    }
    
    .search-box {
        position: relative; top: 0; left: 0; flex: 1; width: auto; max-width: none; order: 1;
    }
    .search-input-wrap { width: 100%; }
    .search-input-wrap input { font-size: 13px; padding: 8px 32px 8px 12px; }

    .header-theme {
        position: relative; top: 0; right: 0; order: 2; width: auto; display: flex; justify-content: flex-end; gap: 5px;
    }
    .header-theme button { flex: 0 0 auto; font-size: 12px; padding: 6px 10px; margin: 0; }

    .header-text {
        order: 3; width: 100%; box-sizing: border-box; margin-top: 20px; padding: 16px;
        background: rgba(0, 0, 0, 0.25); backdrop-filter: blur(3px); border: 1px solid rgba(255,255,255,0.15);
    }
    
    body.theme-light .header-text {
        background: rgba(255, 255, 255, 0.4); border: 1px solid rgba(255,255,255,0.4);
    }
    
    header h1 { font-size: 24px; }
    
    .container { flex-direction: column; }
    
    .sidebar { 
        width: 100%; padding: 10px 8px; flex-direction: row; border-right: none; gap: 6px;
        border-bottom: 1px solid rgba(0,0,0,0.1); overflow-x: auto; white-space: nowrap; -webkit-overflow-scrolling: touch; 
    }
    body.theme-light .sidebar { border-bottom: 1px solid #e5e7eb; }
    body.theme-dark .sidebar { border-bottom: 1px solid #334155; }
    
    .sidebar button { flex: 0 0 auto; width: auto; margin-bottom: 0; margin-right: 8px; padding: 8px 16px; font-size: 14px; justify-content: center; }

    /* éš±è—é†œé†œçš„æ²å‹•æ¢ (Chrome/Safari/Webkit) */
    .sidebar::-webkit-scrollbar { display: none; }
    /* éš±è—æ²å‹•æ¢ (Firefox) */
    .sidebar { scrollbar-width: none; }

    .sidebar button { 
        flex: 0 0 auto; /* ä¸å¼·åˆ¶ä¼¸ç¸®ï¼Œä¾æ–‡å­—é•·åº¦æ±ºå®š */
        width: auto; 
        margin: 0; /* ç§»é™¤åŸæœ¬çš„ marginï¼Œæ”¹ç”¨ä¸Šé¢çš„ gap */       
        /* ç¸®å°å…§è·èˆ‡å­—é«”ï¼Œè®“ã€Œåª’é«”æ¡è¨ªã€å¡å¾—é€²å» */
        padding: 6px 10px; 
        font-size: 13px; /* ç¨å¾®ç¸®å° 1px è¦–è¦ºå·®ç•°ä¸å¤§ä½†çœç©ºé–“ */   
        justify-content: center; 
    }
    
    .content { padding: 20px; }
    .card-grid { grid-template-columns: 1fr; }
    
    #backToTop { bottom: 20px; right: 16px; width: 44px; height: 44px; }
    
    /* æ‰‹æ©Ÿç‰ˆå…¬å‘Šæ¬„ï¼šå­—ç¨å¾®å°ä¸€é»ï¼Œä¸Šä¸‹æ’é–‹ */
    .news-board { 
        padding: 8px 12px; 
        gap: 8px; /* ç¸®å°é–“è· */
        justify-content: flex-start; /* é å·¦å°é½Šï¼Œæ¯”è¼ƒæ•´é½Š */
        position: relative; 
        z-index: 5;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    }
    body.theme-fancy .news-board {
        /* è®“åº•éƒ¨é‚Šæ¡†ç¨å¾®äº®ä¸€é»ï¼Œå½¢æˆä¸€æ¢æ˜é¡¯ä½†æŸ”å’Œçš„åˆ†å‰²ç·š */
        border-bottom: 1px solid rgba(255, 255, 255, 0.35);
    }
    .news-item {
        width: 100%; /* æ‰‹æ©Ÿç‰ˆä¸€è¡Œä¸€å€‹ */
        font-size: 12px;
    }
}
</style>
</head>

<body>

<header>
    <div class="search-box">
        <div class="search-input-wrap">
            <input type="text" id="searchInput" placeholder="æœå°‹é—œéµå­—" oninput="handleSearch(this.value)" />
            <button id="clearSearch">âœ•</button>
        </div>
        <div id="searchResults" class="search-results"></div>
    </div>
    
    <div class="header-theme">
        <button onclick="setTheme('theme-fancy')">ğŸŒ¸ èŠ±ä¿</button>
        <button onclick="setTheme('theme-light')">ğŸ¤ ç™½è‰²</button>
        <button onclick="setTheme('theme-dark')">ğŸŒ™ æ·±è‰²</button>
    </div>
    
    <div class="header-text">
        <h1>å´”ç«‹äºå°ç£ç¿»è­¯ç«™</h1>
        <p>éå®˜æ–¹ï½œç²‰çµ²ç¿»è­¯æ•´ç†ï½œåƒ…ä½œå­¸ç¿’èˆ‡æ¨å»£ä½¿ç”¨</p>
    </div>
</header>

<div class="news-board">
    <div class="news-item">
        <span class="news-tag tag-new">æ›´æ–°</span> 02/07 [åª’é«”]Y MAGAZINEç‰¹è¼¯-è£½ä½œæœæ‹œå·§å…‹åŠ›Qé¤…å·²ä¸Šå‚³ 
    </div>
    <div class="news-item">
        <span class="news-tag tag-new">æ›´æ–°</span> 02/05 [ç¯€ç›®]ã€Šé„°å®¶Kæ˜æ˜Ÿã€‹ep24å·²ä¸Šå‚³â­
    </div>
    <div class="news-item">
        <span class="news-tag tag-note">å…¬å‘Š</span> æ–°å¢ã€Œå‡ºæ¼”äººå“¡ç¯©é¸ã€æŒ‰éˆ•ä»¥åŠã€Œå›åˆ°é ‚ç«¯ã€æŒ‰éˆ•åŠŸèƒ½ï¼
    </div>
</div>

<div class="container">
    <nav class="sidebar">
        <button class="active" onclick="switchTab('live', this)">
            ğŸ“º ç›´æ’­
        </button>
        <button onclick="switchTab('program', this)">
            ğŸ¬ ç¯€ç›®
        </button>
        <button onclick="switchTab('radio', this)">
            ğŸ“» é›»å°
        </button>
        <button onclick="switchTab('media', this)">
            ğŸ¤ åª’é«”æ¡è¨ª
        </button>
    </nav>

    <main class="content">
        <div id="live" class="section active">
            <div id="live-filters" class="filter-bar"></div>
            <div class="card-grid" id="live-grid"></div>
        </div>

        <div id="program" class="section">
            <div id="program-filters" class="filter-bar"></div>
            <div class="card-grid" id="program-grid"></div>
        </div>

        <div id="radio" class="section">
            <div id="radio-filters" class="filter-bar"></div>
            <div class="card-grid" id="radio-grid"></div>
        </div>

        <div id="media" class="section">
            <div id="media-filters" class="filter-bar"></div>
            <div class="card-grid" id="media-grid"></div>
        </div>
    </main>
</div>

<footer>
    <div class="footer-sns">
        <a href="https://www.instagram.com/chueiliyu_tw_trans?igsh=MWUydHE2c2I3bzd0MQ%3D%3D" target="_blank" class="sns-btn text-link" aria-label="Instagram">
            Instagram
        </a>
        <span class="sns-divider">/</span>
        <a href="https://www.threads.net/@chueiliyu_tw_trans" target="_blank" class="sns-btn text-link" aria-label="Threads">
            Threads
        </a>
    </div>
    <div class="footer-info">
        Â© å´”ç«‹äºå°ç£ç¿»è­¯ç«™ ï½œ ç¶²ç«™æ¶è¨­èˆ‡è¨­è¨ˆï¼šè¥¿å¡
    </div>
</footer>
<button id="backToTop" title="å›åˆ°é ‚ç«¯">
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
        <path d="M18 15l-6-6-6 6"/>
    </svg>
</button>

<script>
/* =========================================
   â­ 1. è³‡æ–™åº« (JSON Data)
   ========================================= */
const videoData = [
    // --- LIVE ---
    {
        id: 'l1',
        category: 'live',
        title: '20260130ç«‹äºIGç›´æ’­',
        link: 'https://chueiliyutwtrans.github.io/chueiliyu-tw-translation/Live/20260130Instagram_Live/',
        img: 'images/20260130_Instagram_Live2.webp',
        desc: 'å®Œæ•´ç›´æ’­ï½œä¸­æ–‡ç¿»è­¯',
        credit: 'å½±ç‰‡ä¾†æºï¼ší‡´ë§ˆì†Œë…€<br>ç¿»è­¯ï¼šLepus<br>å­—å¹•è£½ä½œï¼šè¥¿å¡<br>æ ¡å°ï¼šè¥¿å¡',
        isNew: true,
        cast: []
    },
    {
        id: 'l2',
        category: 'live',
        title: 'ã€ŠShow! éŸ³æ¨‚ä¸­å¿ƒã€‹MC CUT å²¡æ—»(VERIVERY) X å´”ç«‹äº(CHUEI LI YU)',
        link: 'https://chueiliyutwtrans.github.io/chueiliyu-tw-translation/Live/20251213MBC_Show!MusicCore_MC_cut/',
        img: 'images/20251213_MBC_Show!MusicCore_MC_cut.webp',
        desc: 'cutç›´æ’­ï½œä¸­æ–‡ç¿»è­¯',
        credit: 'ç¿»è­¯ï¼šQueenie<br>å­—å¹•è£½ä½œï¼šC<br>æ ¡å°ï¼šè¥¿å¡',
        isNew: false,
        cast: ['å²¡æ—»']
    },
    {
        id: 'l3',
        category: 'live',
        title: 'å’Œç«‹äºä¸€èµ·åº¦éè–èª•å¤œ',
        link: 'https://chueiliyutwtrans.github.io/chueiliyu-tw-translation/Live/20251224LIYU_CHRISTMAS_NIGHT/',
        img: 'images/20251224_CHRISTMAS_NIGHT_with_LIYU.webp',
        desc: 'å®Œæ•´ç›´æ’­ï½œä¸­æ–‡ç¿»è­¯',
        credit: 'ç¿»è­¯ï¼šè¥¿å¡<br>å­—å¹•è£½ä½œï¼šè¥¿å¡',
        isNew: false,
        cast: []
    },
    {
        id: 'l4',
        category: 'live',
        title: 'å’Œå¤§å®¶ä¸€èµ·åº¦éçš„ç¬¬ä¸€å€‹ç”Ÿæ—¥â™¥',
        link: 'https://chueiliyutwtrans.github.io/chueiliyu-tw-translation/Live/20260102LIYU_BIRTHDAY_LIVE/',
        img: 'images/20260103_Liyu_Birthday_Live.webp',
        desc: 'å®Œæ•´ç›´æ’­ï½œä¸­æ–‡ç¿»è­¯',
        credit: 'ç¿»è­¯ï¼šè¥¿å¡<br>å­—å¹•è£½ä½œï¼šè¥¿å¡',
        isNew: false,
        cast: []
    },

    // --- PROGRAM ---
    {
        id: 'p1',
        category: 'program',
        title: 'é„°å®¶Kæ˜æ˜Ÿç³»åˆ—',
        link: 'Program/KStarNextDoor_Show/',
        img: 'images/20251014_KStarNextDoor_Show_ep24.webp',
        desc: 'å®Œæ•´ç¯€ç›®ï½œä¸­æ–‡ç¿»è­¯',
        credit: '',
        isNew: true,
        cast: ['ç€šéŸ³', 'æ±å¥', 'æ¢“è±ª', 'è˜‡ä»', 'å¼·ç´æ£®']
    },
    {
        id: 'p2',
        category: 'program',
        title: 'ç‚¸é›ç‹åº§ç³»åˆ—',
        link: 'Program/king-of-chicken/',
        img: 'images/20260102_bhc.webp',
        desc: 'å®Œæ•´ç¯€ç›®ï½œä¸­æ–‡ç¿»è­¯',
        credit: '',
        isNew: false,
        cast: ['HANULIZ','ç€šéŸ³', 'ç—é€²', 'æ©å…‰']
    },
    {
        id: 'p3',
        category: 'program',
        title: 'å¾·é£¯åº— EP.5 å´”ç«‹äº CHUEI LI YU',
        link: 'Program/20251216deok_rice_restaurant_ep5/',
        img: 'images/20251216_deok_rice_restaurant.webp',
        desc: 'å®Œæ•´ç¯€ç›®ï½œä¸­æ–‡ç¿»è­¯',
        credit: 'ç¿»è­¯ï¼šè¥¿å¡ã€Yuli<br>å­—å¹•è£½ä½œï¼šè¥¿å¡<br>æ ¡å°ï¼šè¥¿å¡',
        isNew: false,
        cast: ['æ˜Œç‰']
    },
    {
        id: 'p4',
        category: 'program',
        title: 'MARIE Drawing Diary<br>(MARIEç•«ç•«æ—¥è¨˜)',
        link: 'https://chueiliyutwtrans.github.io/chueiliyu-tw-translation/Program/20251107MARIE_Drawing_Diary/',
        img: 'images/20251107_MARIE_Drawing_Diary.webp',
        desc: 'å®Œæ•´ç¯€ç›®ï½œä¸­æ–‡ç¿»è­¯',
        credit: 'ç¿»è­¯ï¼šè¥¿å¡<br>å­—å¹•è£½ä½œï¼šè¥¿å¡',
        isNew: false,
        cast: []
    },
    {
        id: 'p5',
        category: 'program',
        title: 'ç¡¬æ’è©©å®‰ EP#9',
        link: 'https://chueiliyutwtrans.github.io/chueiliyu-tw-translation/Program/20251220kkang-sian_ep9/',
        img: 'images/20251220_kkang-sian_ep9.webp',
        desc: 'å®Œæ•´ç¯€ç›®ï½œä¸­æ–‡ç¿»è­¯',
        credit: 'ç¿»è­¯ï¼šè¥¿å¡<br>å­—å¹•è£½ä½œï¼šè¥¿å¡',
        isNew: false,
        cast: ['è©©å®‰']
    },
    {
        id: 'p6',
        category: 'program',
        title: 'æ´ªéŒ«å¤©çš„å¯¶çŸ³ç›’ç¬¬å››å­£ EP.23',
        link: 'https://chueiliyutwtrans.github.io/chueiliyu-tw-translation/Program/20251125HongSeokCheon\'s_Jewel_Box/',
        img: 'images/20251125_HongSeokCheon\'s_Jewel_Box_ep.23.webp',
        desc: 'å®Œæ•´ç¯€ç›®ï½œä¸­æ–‡ç¿»è­¯',
        credit: 'ç¿»è­¯ï¼šè¥¿å¡ã€Yuli<br>å­—å¹•è£½ä½œï¼šC<br>æ ¡å°ï¼šè¥¿å¡',
        isNew: false,
        cast: ['æ´ªéŒ«å¤©','ç€šéŸ³']
    },
    {
        id: 'p7',
        category: 'program',
        title: 'ç·´ç¿’å®¤çš„Badaè€å¸« ep.41',
        link: 'https://chueiliyutwtrans.github.io/chueiliyu-tw-translation/Program/20251218BadaLee_ep41/',
        img: 'images/20251218_BadaLee_ep41.webp',
        desc: 'å®Œæ•´ç¯€ç›®ï½œä¸­æ–‡ç¿»è­¯',
        credit: 'ç¿»è­¯ï¼šLepus<br>å­—å¹•è£½ä½œï¼šè¥¿å¡<br>æ ¡å°ï¼šè¥¿å¡',
        isNew: false,
        cast: ['Bada Lee']
    },
    {
        id: 'p8',
        category: 'program',
        title: 'æ’²é€šæ’²é€šç«‹äºtimeğŸ’—å´”ç«‹äºçš„å¯æ„›åˆé›†ğŸ°.zip',
        link: 'https://chueiliyutwtrans.github.io/chueiliyu-tw-translation/Program/20260106fredr1ck._choi_ARCHIVE_BY_CHUEI_LI_YU/',
        img: 'images/20260106_fredr1ck._choi_ARCHIVE_BY_CHUEI_LI_YU.webp',
        desc: 'å®Œæ•´ç¯€ç›®ï½œä¸­æ–‡ç¿»è­¯',
        credit: 'ç¿»è­¯ï¼šLepus<br>å­—å¹•è£½ä½œï¼šC<br>æ ¡å°ï¼šè¥¿å¡',
        isNew: false,
        cast: []
    },

    // --- RADIO ---
    {
        id: 'r1',
        category: 'radio',
        title: '[éŸ“æµ·çš„Kiss the Radio] é©šå–œæ‹›å¾…æœƒ with. å¼µç€šéŸ³ & å´”ç«‹äº',
        link: 'https://chueiliyutwtrans.github.io/chueiliyu-tw-translation/Radio/20251211kiss_the_radio/',
        img: 'images/20251211_kiss_the_radio.webp',
        desc: 'å®Œæ•´é›»å°ï½œä¸­æ–‡ç¿»è­¯',
        credit: 'ç¿»è­¯ï¼šè¥¿å¡<br>å­—å¹•è£½ä½œï¼šC & è¥¿å¡',
        isNew: true,
        cast: ['éŸ“æµ·','ç€šéŸ³']
    },
    {
        id: 'r2',
        category: 'radio',
        title: 'æœ´ç´ è³¢çš„ Love Game | 251221',
        link: 'https://chueiliyutwtrans.github.io/chueiliyu-tw-translation/Radio/20251221lovegame/',
        img: 'images/20251221_love_game.webp',
        desc: 'å®Œæ•´é›»å°ï½œä¸­æ–‡ç¿»è­¯',
        credit: 'ç¿»è­¯ï¼šè¥¿å¡<br>å­—å¹•è£½ä½œï¼šè¥¿å¡',
        isNew: false,
        cast: ['æœ´ç´ è³¢']
    },
    {
        id: 'r3',
        category: 'radio',
        title: 'IDOL RADIO BEHIND EP.173',
        link: 'https://chueiliyutwtrans.github.io/chueiliyu-tw-translation/Radio/20251123idol-radio-ep173-behind/',
        img: 'images/20251123_idol_radio_behind_ep173.webp',
        desc: 'Behind ç‰‡æ®µï½œä¸­æ–‡ç¿»è­¯',
        credit: 'ç¿»è­¯ï¼šè¥¿å¡<br>å­—å¹•è£½ä½œï¼šè¥¿å¡',
        isNew: false,
        cast: ['HANULIZ','ç€šéŸ³', 'ç—é€²']
    },
   
    // --- MEDIA ---
    {
        id: 'm1',  
        category: 'media', 
        title: 'Y MAGAZINE ç‰¹è¼¯-è£½ä½œæœæ‹œå·§å…‹åŠ›Qé¤…',
        link: 'https://chueiliyutwtrans.github.io/chueiliyu-tw-translation/Media/20260205Y_MAGAZINE/', 
        img: 'images/20260205_Y_magazine.webp',
        desc: 'ç‰¹åˆ¥ä¼åŠƒï½œä¸­æ–‡ç¿»è­¯',
        credit: 'ç¿»è­¯ï¼šè¥¿å¡<br>å­—å¹•è£½ä½œï¼šè¥¿å¡',
        isNew: true,
        cast: []
    },
];

/* =========================================
   â­ 2. æ ¸å¿ƒæ¸²æŸ“åŠŸèƒ½
   ========================================= */
window.onload = function() {
    // 1. æ¸²æŸ“å¡ç‰‡
    if (typeof videoData !== 'undefined') {
        renderAllCards(videoData);
        // åˆå§‹åŒ–ç¯©é¸å™¨
        ['live', 'program', 'radio'].forEach(cat => {
            generateFilters(cat);
        });
    }

    // 2. è®€å–ä¸»é¡Œ
    const savedTheme = localStorage.getItem('site-theme') || 'theme-fancy';
    setTheme(savedTheme);

    // 3. å•Ÿå‹•å›åˆ°é ‚ç«¯æŒ‰éˆ•åµæ¸¬ (ä¿®å¾© iPhone æ²’åæ‡‰çš„å•é¡Œ)
    initBackToTop();
};

function createCardHTML(item) {
    const badge = item.isNew ? '<span class="new-badge">NEW</span>' : '';
    const credit = item.credit ? `<div class="card-credit">${item.credit}</div>` : '';
    
    return `
    <article class="card" data-id="${item.id}" data-title="${item.title}">
        <a href="${item.link}" target="_blank" style="text-decoration:none; color:inherit; display:block;">
            <div class="card-img-wrap">
                <img src="${item.img}" alt="${item.title.replace(/<br>/g, ' ')}" loading="lazy">
                ${badge}
            </div>
            <div class="card-body">
                <div class="card-title">${item.title}</div>
                <div class="card-desc">${item.desc}</div>
                ${credit}
            </div>
        </a>
    </article>
    `;
}

function renderAllCards(data) {
    const liveContainer = document.getElementById('live-grid');
    const programContainer = document.getElementById('program-grid');
    const radioContainer = document.getElementById('radio-grid');

    liveContainer.innerHTML = data.filter(i => i.category === 'live').map(createCardHTML).join('');
    programContainer.innerHTML = data.filter(i => i.category === 'program').map(createCardHTML).join('');
    radioContainer.innerHTML = data.filter(i => i.category === 'radio').map(createCardHTML).join('');
}

/* =========================================
   â­ 3. é€šç”¨ç¯©é¸åŠŸèƒ½ (Generic Filters) - å·²åŠ å…¥ç½®é ‚æ’åº
   ========================================= */

function generateFilters(category) {
    // 1. æ‰¾å‡ºè©²åˆ†é¡çš„æ‰€æœ‰ cast
    const items = videoData.filter(i => i.category === category);
    const allCasts = items.flatMap(p => p.cast);
    let uniqueCasts = [...new Set(allCasts)]; // ä½¿ç”¨ let è®“æˆ‘å€‘å¯ä»¥å°å®ƒé€²è¡Œæ’åº

    // å¦‚æœè©²åˆ†é¡æ²’æœ‰ä»»ä½•å‡ºæ¼”åå–®ï¼Œå°±ç›´æ¥çµæŸï¼Œä¸ç”¢ç”Ÿä»»ä½•æŒ‰éˆ•
    if (uniqueCasts.length === 0) return;

    // 2. â­ å®šç¾©å„ªå…ˆé¡¯ç¤ºåå–® (Priority List)
    const priorityList = ['HANULIZ', 'ç€šéŸ³', 'ç—é€²'];

    // 3. â­ åŸ·è¡Œè‡ªå®šç¾©æ’åº
    uniqueCasts.sort((a, b) => {
        const indexA = priorityList.indexOf(a);
        const indexB = priorityList.indexOf(b);

        // å¦‚æœå…©äººéƒ½åœ¨å„ªå…ˆåå–®å…§ï¼Œä¾ç…§ priorityList çš„é †åºæ’
        if (indexA !== -1 && indexB !== -1) return indexA - indexB;

        // å¦‚æœåªæœ‰ A åœ¨å„ªå…ˆåå–®ï¼ŒA æ’å‰é¢
        if (indexA !== -1) return -1;

        // å¦‚æœåªæœ‰ B åœ¨å„ªå…ˆåå–®ï¼ŒB æ’å‰é¢
        if (indexB !== -1) return 1;

        // å‰©ä¸‹çš„äººï¼Œä¾ç…§ç­†ç•«æˆ–å­—æ¯é †åºæ’åˆ— (ä½¿ç”¨ localeCompare)
        return a.localeCompare(b, 'zh-TW'); 
    });

    // 4. æ‰¾åˆ°å°æ‡‰çš„å®¹å™¨ (ä¾‹å¦‚ program-filters, live-filters...)
    const filterContainer = document.getElementById(category + '-filters');
    if (!filterContainer) return;
    
    // 5. ç”¢ç”Ÿ "å…¨éƒ¨" æŒ‰éˆ•
    let html = `<button class="filter-btn active" onclick="filterCategory('${category}', 'all', this)">å…¨éƒ¨</button>`;
    
    // 6. ç”¢ç”Ÿæ’åºå¾Œçš„åƒæ¼”äººå“¡æŒ‰éˆ•
    uniqueCasts.forEach(cast => {
        html += `<button class="filter-btn" onclick="filterCategory('${category}', '${cast}', this)">${cast}</button>`;
    });

    filterContainer.innerHTML = html;
}

function filterCategory(category, cast, btnElement) {
    // æŒ‰éˆ•æ¨£å¼åˆ‡æ›
    const container = document.getElementById(category + '-filters');
    const buttons = container.getElementsByClassName('filter-btn');
    Array.from(buttons).forEach(btn => btn.classList.remove('active'));
    btnElement.classList.add('active');

    // ç¯©é¸é‚è¼¯
    const gridId = category + '-grid';
    const grid = document.getElementById(gridId);
    const cards = grid.getElementsByClassName('card');

    // å¾ videoData é‡æ–°éæ¿¾ä¸¦æ¸²æŸ“
    const targetData = videoData.filter(i => i.category === category);
    const filteredData = (cast === 'all') 
        ? targetData 
        : targetData.filter(item => item.cast.includes(cast));
        
    grid.innerHTML = filteredData.map(createCardHTML).join('');
}

/* =========================================
   â­ 4. åˆ‡æ›èˆ‡æœå°‹åŠŸèƒ½
   ========================================= */
function switchTab(tabId, btn) {
    document.querySelectorAll('.section').forEach(el => el.classList.remove('active'));
    document.querySelectorAll('.sidebar button').forEach(el => el.classList.remove('active'));
    
    document.getElementById(tabId).classList.add('active');
    btn.classList.add('active');

    // åˆ‡æ›åˆ†é æ™‚ï¼Œé‡ç½®æ²å‹•ä½ç½®ï¼Œé¿å…å¡åœ¨ä¸­é–“
    window.scrollTo({ top: 0, behavior: 'smooth' });
}

const searchInput = document.getElementById('searchInput');
const clearBtn = document.getElementById('clearSearch');
const resultsBox = document.getElementById('searchResults');

function handleSearch(keyword) {
    resultsBox.innerHTML = '';
    
    if (!keyword.trim()) {
        clearBtn.classList.remove('visible');
        clearHighlight();
        return;
    }
    
    clearBtn.classList.add('visible');

    const categories = {
        'live': 'ğŸ“º ç›´æ’­',
        'program': 'ğŸ¬ ç¯€ç›®',
        'radio': 'ğŸ“» é›»å°'
    };

    const matched = videoData.filter(item => 
        item.title.toLowerCase().includes(keyword.toLowerCase())
    );

    ['live', 'program', 'radio'].forEach(cat => {
        const count = matched.filter(m => m.category === cat).length;
        if (count > 0) {
            const btn = document.createElement('button');
            btn.innerText = `${categories[cat]} (${count})`;
            btn.onclick = () => jumpToCategory(cat, keyword);
            resultsBox.appendChild(btn);
        }
    });
}

function jumpToCategory(catId, keyword) {
    const tabBtn = document.querySelector(`.sidebar button[onclick*="${catId}"]`);
    switchTab(catId, tabBtn);

    clearHighlight();

    // é€™è£¡éœ€è¦æ³¨æ„ï¼šå¦‚æœä½¿ç”¨è€…ä¹‹å‰ç¯©é¸éï¼Œé€™è£¡å¯èƒ½éœ€è¦é‡ç½®ç¯©é¸æ‰èƒ½æ‰¾åˆ°è¢«éš±è—çš„å¡ç‰‡
    // ç°¡å–®è§£æ³•ï¼šå…ˆè‡ªå‹•è§¸ç™¼ "å…¨éƒ¨" æŒ‰éˆ•
    const allBtn = document.querySelector(`#${catId}-filters button:first-child`);
    if(allBtn) allBtn.click(); 

    // ç¨å¾®å»¶é²ç­‰æ¸²æŸ“å®Œ
    setTimeout(() => {
        const container = document.getElementById(`${catId}-grid`);
        const cards = container.querySelectorAll('.card');
        let firstMatch = null;

        cards.forEach(card => {
            const title = card.getAttribute('data-title').toLowerCase();
            if (title.includes(keyword.toLowerCase())) {
                card.classList.add('search-highlight');
                if (!firstMatch) firstMatch = card;
            }
        });

        if (firstMatch) {
            firstMatch.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
    }, 50);
}

function clearHighlight() {
    document.querySelectorAll('.search-highlight').forEach(el => el.classList.remove('search-highlight'));
}

clearBtn.addEventListener('click', () => {
    searchInput.value = '';
    handleSearch('');
    searchInput.focus();
});

function setTheme(theme) {
    const themes = ['theme-fancy', 'theme-light', 'theme-dark'];
    document.body.classList.remove(...themes);
    document.body.classList.add(theme);
    localStorage.setItem('site-theme', theme);
}

/* =========================================
   â­ å›åˆ°é ‚ç«¯åŠŸèƒ½ (Back to Top Logic)
   ========================================= */
function initBackToTop() {
    const backToTopBtn = document.getElementById('backToTop');
    if (!backToTopBtn) return;

    // ä½¿ç”¨ passive æå‡æ‰‹æ©Ÿæ²å‹•æ•ˆèƒ½
    window.addEventListener('scroll', () => {
        // ç›¸å®¹æ€§å¯«æ³•ï¼šæœ‰äº›ç€è¦½å™¨ç”¨ scrollYï¼Œæœ‰äº›ç”¨ documentElement.scrollTop
        const scrollTop = window.scrollY || document.documentElement.scrollTop;

        if (scrollTop > 300) {
            backToTopBtn.classList.add('show');
        } else {
            backToTopBtn.classList.remove('show');
        }
    }, { passive: true });

    backToTopBtn.addEventListener('click', (e) => {
        e.preventDefault(); // é˜²æ­¢æ‰‹æ©Ÿç‰ˆå¯èƒ½çš„è·³å‹•
        window.scrollTo({
            top: 0,
            behavior: 'smooth'
        });
    });
}
</script>
    
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
  import { getDatabase, ref, onValue, runTransaction } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-analytics.js";
    
  const firebaseConfig = {
    apiKey: "AIzaSyC9Hi740uOlJf1dSyDpyeispds_TtCjNjg",
    authDomain: "chueiliyu-tw-translation.firebaseapp.com",
    databaseURL: "https://chueiliyu-tw-translation-default-rtdb.asia-southeast1.firebasedatabase.app",
    projectId: "chueiliyu-tw-translation",
    storageBucket: "chueiliyu-tw-translation.appspot.com",
    messagingSenderId: "625769420546",
    appId: "1:625769420546:web:6d25889d1c66a091fe941b", 
    measurementId: "G-3PM3GTXPHF"
  };

  const app = initializeApp(firebaseConfig);
  const analytics = getAnalytics(app);
  window.db = getDatabase(app);
  window.fb_ref = ref;            
  window.fb_onValue = onValue;      
  window.fb_runTransaction = runTransaction; 
</script>
</body>
</html>

















































